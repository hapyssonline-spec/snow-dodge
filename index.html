<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b1621" />

  <!-- iOS: —Ä–µ–∂–∏–º "–∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ" –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–∞ —ç–∫—Ä–∞–Ω –î–æ–º–æ–π -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="–†—ã–±–∞–ª–∫–∞" />

  <title>–†—ã–±–∞–ª–∫–∞ ‚Äî –º–∏–Ω–∏-–∏–≥—Ä–∞</title>

  <!-- –ò–∫–æ–Ω–∫–∏ (–º–æ–∂–µ—à—å –æ—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–∏ —Ç–µ–∫—É—â–∏–µ icon-*.png –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏) -->
  <link rel="apple-touch-icon" href="icon-180.png?v=28" />
  <link rel="manifest" href="manifest.json?v=30" />

  <link rel="stylesheet" href="style.css?v=35" />
</head>
<body>
  <div id="app">
    <header id="topbar" class="hud topbar">
      <div class="topbarSlot topbarSlot-left">
        <button id="btnProfile" class="profileButton" aria-label="–ü—Ä–æ—Ñ–∏–ª—å">
          <span class="profileAvatar" aria-hidden="true">
            <svg viewBox="0 0 48 48" role="presentation" focusable="false">
              <circle cx="24" cy="18" r="8"></circle>
              <path d="M10 38c2.2-8.5 9-12 14-12s11.8 3.5 14 12"></path>
            </svg>
          </span>
          <span id="profileLevelBadge" class="profileLevelBadge">1</span>
        </button>
      </div>

      <div class="topbarSlot topbarSlot-center">
        <div class="title">ICE FISH</div>
        <div id="questReminder" class="questReminder hidden"></div>
      </div>

      <div class="topbarSlot topbarSlot-right">
        <div class="stat stat-compact">
          <span class="statIcon" aria-hidden="true">ü™ô</span>
          <span id="coins" class="value">0</span>
        </div>
      </div>
    </header>

    <main id="stage">
      <div id="sceneRoot">
        <div id="bgLayer">
          <img id="bgPortraitImg" src="./bg_lake_portrait.png?v=28" alt="" draggable="false">
          <img id="bgLandscapeImg" src="./bg_lake_landscape.png?v=28" alt="" draggable="false">
        </div>

        <div id="cityScene" aria-hidden="true">
          <button class="city-hitbox" data-scene="fish" data-label="–†—ã–±–Ω–∞—è –ª–∞–≤–∫–∞" aria-label="–†—ã–±–Ω–∞—è –ª–∞–≤–∫–∞"></button>
          <button class="city-hitbox" data-scene="gear" data-label="–°–Ω–∞—Å—Ç–∏" aria-label="–°–Ω–∞—Å—Ç–∏"></button>
          <button class="city-hitbox" data-scene="trophy" data-label="–¢—Ä–æ—Ñ–µ–∏" aria-label="–¢—Ä–æ—Ñ–µ–∏"></button>
          <div id="cityTooltip" role="status" aria-live="polite"></div>
        </div>

        <canvas id="game"></canvas>

        <div id="lakeScene" aria-hidden="true">
          <img id="heroLayer" class="layer hero" src="./hero.png?v=28" alt="" draggable="false">
          <img id="rodLayer" class="layer rod" src="./rod.png?v=28" alt="" draggable="false">
          <img id="bobberLayer" class="layer bobber" src="./bobber.png?v=28" alt="" draggable="false">
        </div>
      </div>

      <div id="fightHud" class="fightHud hidden" aria-hidden="true">
        <div class="fightHudPanel">
          <div class="fightHudTitle">–ù–∞—Ç—è–∂–µ–Ω–∏–µ –ª–µ—Å–∫–∏</div>
          <div class="tensionWrap">
            <div class="tensionTrack">
              <div class="tensionZones" aria-hidden="true"></div>
              <div class="tensionTicks" aria-hidden="true"></div>
              <div class="tensionFill"></div>
            </div>
            <div class="tensionMarker" aria-hidden="true"></div>
          </div>
          <div class="fightHudRow">
            <div class="fightHudLabel">–í—ã–º–∞—Ç—ã–≤–∞–Ω–∏–µ</div>
          </div>
          <div class="reelWrap">
            <div class="reelBar">
              <div class="reelFill"></div>
              <div class="reelPercent">36%</div>
            </div>
          </div>
          <div class="bottomRow">
            <div id="breakHint" class="breakHint">–°—Ä—ã–≤: 12%</div>
            <div id="fishHintText" class="fishHintText" aria-hidden="true"></div>
          </div>
        </div>
      </div>

      <div id="rareBoostHud" class="rareBoostHud hidden">–†–µ–¥–∫–∏–π —É–ª–æ–≤: 0/10</div>

      <div id="overlay" class="hidden modal">
        <div class="card">
          <div class="h1">–†—ã–±–∞–ª–∫–∞</div>
          <div class="p" id="ovText">–¢–∞–ø–Ω–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.</div>

          <div class="row">
            <button id="btnPlay">–ò–≥—Ä–∞—Ç—å</button>
            <button id="btnReset" class="secondary">–°–±—Ä–æ—Å</button>
          </div>

          <div class="small">
            –°–æ–≤–µ—Ç: –æ—Ç–∫—Ä–æ–π –≤ Safari –∏ –¥–æ–±–∞–≤—å –Ω–∞ —ç–∫—Ä–∞–Ω ¬´–î–æ–º–æ–π¬ª ‚Äî –±—É–¥–µ—Ç –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
          </div>
        </div>
      </div>

      <div id="invOverlay" class="hidden modal">
        <div class="invCard">
          <div class="invHeader">
            <div class="invTitle">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
            <button id="btnInvClose" class="chipBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          </div>

          <div class="invControls">
            <label for="invSort">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</label>
            <select id="invSort">
              <option value="WEIGHT_DESC">–ü–æ –≤–µ—Å—É (—É–±—ã–≤.)</option>
              <option value="WEIGHT_ASC">–ü–æ –≤–µ—Å—É (–≤–æ–∑—Ä.)</option>
              <option value="NAME_ASC">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–ê-–Ø)</option>
              <option value="NAME_DESC">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–Ø-–ê)</option>
            </select>
          </div>

          <div id="invEmpty" class="invEmpty hidden">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç. –ü–æ–π–º–∞–π —Ä—ã–±—É!</div>
          <div id="invList" class="invList scrollable"></div>
        </div>
      </div>

      <div id="trashOverlay" class="hidden modal">
        <div class="trashCard">
          <div class="trashHeader">
            <div class="trashTitle">–ñ—É—Ä–Ω–∞–ª –Ω–∞—Ö–æ–¥–æ–∫</div>
            <button id="btnTrashClose" class="chipBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          </div>
          <div id="trashRewardStatus" class="trashRewardStatus">
            <div class="trashRewardLine trashRewardLine--progress" id="trashRewardLineProgress">
              <span class="trashRewardLabel">–ù–∞–π–¥–µ–Ω–æ:</span>
              <span id="trashFoundCount" class="trashRewardCount">0</span>
              <span id="trashFoundTotal" class="trashRewardTotal">/10.</span>
              <span class="trashRewardLabel">–ù–∞–≥—Ä–∞–¥–∞:</span>
              <span class="trashRewardRod">
                <img class="trashRewardIcon" src="./rod.png?v=28" alt="" aria-hidden="true">
                <span class="trashRewardRodName">–£–¥–æ—á–∫–∞ ¬´–°–æ–±–∏—Ä–∞—Ç–µ–ª—å¬ª.</span>
              </span>
            </div>
            <div class="trashRewardLine trashRewardLine--complete" id="trashRewardLineComplete">
              <span class="trashRewardLabel">–ù–∞–≥—Ä–∞–¥–∞:</span>
              <span class="trashRewardRod">
                <img class="trashRewardIcon" src="./rod.png?v=28" alt="" aria-hidden="true">
                <span class="trashRewardRodName">–£–¥–æ—á–∫–∞ ¬´–°–æ–±–∏—Ä–∞—Ç–µ–ª—å¬ª –ø–æ–ª—É—á–µ–Ω–∞.</span>
              </span>
            </div>
            <div class="trashProgress" aria-hidden="true">
              <div class="trashProgressFill" id="trashProgressFill"></div>
            </div>
          </div>
          <div id="trashGrid" class="trashGrid"></div>
          <div class="trashControls">
            <button id="btnTrashFill" class="chipBtn secondary hidden">TEST: –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∂—É—Ä–Ω–∞–ª</button>
            <button id="btnResetCharges" class="chipBtn secondary hidden">TEST: —Å–±—Ä–æ—Å–∏—Ç—å –∑–∞—Ä—è–¥—ã</button>
          </div>
        </div>
      </div>

      <div id="catchOverlay" class="hidden modal">
        <div class="catchCard">
          <div class="catchHeader">
            <div id="catchTitle" class="catchTitle">–ü–æ–π–º–∞–ª —Ä—ã–±—É!</div>
            <span id="catchRarity" class="badge badge-common">–æ–±—ã—á–Ω–∞—è</span>
          </div>
          <div id="catchName" class="catchName">–†—ã–±–∞</div>
          <div class="catchMeta">
            <div><strong>–í–µ—Å:</strong> <span id="catchWeight">0.00 –∫–≥</span></div>
            <div class="catchStory" id="catchStory"></div>
          </div>
          <div class="catchPrices">
            <div class="catchPriceRow subtle">
              <span class="priceLabel">–ü–æ–ª–Ω–∞—è —Ü–µ–Ω–∞</span>
              <span id="catchFullPrice" class="strike priceValue">0</span>
            </div>
            <div class="catchPriceRow highlight">
              <span class="priceLabel">–ü—Ä–æ–¥–∞—Ç—å —Å—Ä–∞–∑—É</span>
              <span id="catchDiscountPrice" class="priceValue">0</span>
            </div>
            <div class="catchDiscount">-30% –∑–∞ —Å—Ä–æ—á–Ω—É—é –ø—Ä–æ–¥–∞–∂—É</div>
          </div>
          <label id="catchTrophyWrap" class="catchTrophy hidden">
            <input id="catchTrophyToggle" type="checkbox" />
            –°–¥–µ–ª–∞—Ç—å —Ç—Ä–æ—Ñ–µ–µ–º
          </label>
          <div class="row">
            <button id="btnCatchKeep" class="secondary">–í –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
            <button id="btnCatchSellNow" class="danger">–ü—Ä–æ–¥–∞—Ç—å —Å—Ä–∞–∑—É</button>
          </div>
        </div>
      </div>

      <div id="profileSetupOverlay" class="hidden modal modal-blocking" aria-hidden="true">
        <div class="profileCard profileCard--setup">
          <div class="profileHeader">
            <div class="profileTitle">–ü—Ä–æ—Ñ–∏–ª—å</div>
          </div>
          <div class="profileBody">
            <label class="formLabel" for="profileSetupInput">–ù–∏–∫</label>
            <input id="profileSetupInput" class="textInput" type="text" maxlength="16" autocomplete="nickname" />
            <div id="profileSetupError" class="formHint"></div>
            <div class="row">
              <button id="btnProfileSetupSave">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
              <button id="btnProfileSetupGenerate" class="secondary">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π</button>
            </div>
          </div>
        </div>
      </div>

      <div id="profileOverlay" class="hidden modal" aria-hidden="true">
        <div class="profileCard">
          <div id="profileScreenMain" class="profileScreen">
            <div class="profileHeader">
              <div class="profileTitle">–ü—Ä–æ—Ñ–∏–ª—å</div>
              <button id="btnProfileClose" class="chipBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
            <div class="profileBody scrollable">
              <section class="profileSection">
                <div class="profileNameBlock">
                  <div id="profileName" class="profileName">user1</div>
                  <div id="profileRenameHint" class="profileRenameHint"></div>
                </div>
                <button id="btnProfileRename" class="chipBtn">–°–º–µ–Ω–∏—Ç—å –Ω–∏–∫</button>
                <div id="profileRenameForm" class="profileRenameForm hidden">
                  <label class="formLabel" for="profileRenameInput">–ù–æ–≤—ã–π –Ω–∏–∫</label>
                  <input id="profileRenameInput" class="textInput" type="text" maxlength="16" autocomplete="nickname" />
                  <div id="profileRenameCost" class="profileRenameHint"></div>
                  <div class="profileRenameActions">
                    <button id="btnProfileRenameSave" class="chipBtn">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                    <button id="btnProfileRenameCancel" class="chipBtn secondary">–û—Ç–º–µ–Ω–∞</button>
                  </div>
                  <div id="profileRenameError" class="formHint"></div>
                </div>
              </section>

              <section class="profileSection">
                <div class="sectionTitle">–£—Ä–æ–≤–µ–Ω—å</div>
                <div class="profileLevelRow">
                  <span>–£—Ä–æ–≤–µ–Ω—å: <strong id="profileLevel">1</strong></span>
                </div>
                <div class="progressBar progressBar--slim" aria-hidden="true">
                  <div id="profileXpFill" class="progressBarFill"></div>
                </div>
                <div id="profileXpText" class="profileXpText">–û–ø—ã—Ç: 0 / 60</div>
                <div id="profileXpRemain" class="profileXpRemain">–î–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ: 60</div>
              </section>

              <section class="profileSection">
                <div class="sectionTitle">–ë—ã—Å—Ç—Ä–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                <div class="profileStats">
                  <div class="statRow"><span>–ü–æ–π–º–∞–Ω–æ —Ä—ã–±</span><span id="statFishCaughtQuick">0</span></div>
                  <div class="statRow"><span>–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –∑–æ–ª–æ—Ç–∞</span><span id="statGoldEarnedQuick">0</span></div>
                  <div class="statRow"><span>–°–∞–º–∞—è —Ä–µ–¥–∫–∞—è</span><span id="statBestRarityQuick">‚Äî</span></div>
                  <div class="statRow"><span>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–µ—Å</span><span id="statMaxWeightQuick">0 –∫–≥</span></div>
                </div>
              </section>

              <section class="profileSection">
                <div class="sectionTitle">–ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                <button id="btnProfileStatsOpen" class="chipBtn">–û—Ç–∫—Ä—ã—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
              </section>

              <section class="profileSection">
                <div class="sectionTitle">–°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ</div>
                <div class="profileGearItem">
                  <div>
                    <div class="profileGearLabel">–£–¥–æ—á–∫–∞</div>
                    <div id="profileRodName" class="profileGearValue">‚Äî</div>
                  </div>
                  <button class="chipBtn profileGearToggle" data-gear="rod" type="button">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                </div>
                <div class="profileGearItem">
                  <div>
                    <div class="profileGearLabel">–õ–µ—Å–∫–∞</div>
                    <div id="profileLineName" class="profileGearValue">‚Äî</div>
                  </div>
                  <button class="chipBtn profileGearToggle" data-gear="line" type="button">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                </div>
                <div class="profileGearItem">
                  <div>
                    <div class="profileGearLabel">–ù–∞–∂–∏–≤–∫–∞</div>
                    <div id="profileBaitName" class="profileGearValue">‚Äî</div>
                  </div>
                  <button class="chipBtn profileGearToggle" data-gear="bait" type="button">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                </div>
              </section>
            </div>
          </div>

          <div id="profileScreenStats" class="profileScreen hidden">
            <div class="profileHeader">
              <div class="profileTitle">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
              <button id="btnProfileStatsBack" class="chipBtn">–ù–∞–∑–∞–¥</button>
            </div>
            <div class="profileBody scrollable">
              <div class="profileStats">
                <div class="statRow"><span>–í—Ä–µ–º—è –≤ –∏–≥—Ä–µ</span><span id="statPlayTime">00:00</span></div>
                <div class="statRow"><span>–ü–æ–π–º–∞–Ω–æ —Ä—ã–±</span><span id="statFishCaught">0</span></div>
                <div class="statRow"><span>–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –∑–æ–ª–æ—Ç–∞</span><span id="statGoldEarned">0</span></div>
                <div class="statRow"><span>–°–∞–º–∞—è —Ä–µ–¥–∫–∞—è</span><span id="statBestRarity">‚Äî</span></div>
                <div class="statRow"><span>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–µ—Å</span><span id="statMaxWeight">0 –∫–≥</span></div>
              </div>
            </div>
          </div>

          <div id="profileScreenGear" class="profileScreen hidden">
            <div class="profileHeader">
              <div id="profileGearTitle" class="profileTitle">–í—ã–±–æ—Ä</div>
              <button id="btnProfileGearBack" class="chipBtn">–ù–∞–∑–∞–¥</button>
            </div>
            <div class="profileBody scrollable">
              <div id="profileGearPickerList" class="profileGearPickerList"></div>
            </div>
          </div>

          <div id="profileScreenConfirm" class="profileScreen hidden">
            <div class="profileHeader">
              <div class="profileTitle">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</div>
              <button id="btnProfileConfirmCancel" class="chipBtn">–û—Ç–º–µ–Ω–∞</button>
            </div>
            <div class="profileBody">
              <div id="profileConfirmText" class="profileConfirmText"></div>
              <div class="profileConfirmActions">
                <button id="btnProfileConfirmBack" class="chipBtn secondary">–û—Ç–º–µ–Ω–∞</button>
                <button id="btnProfileConfirmSave" class="chipBtn">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="travelOverlay" class="hidden modal" aria-hidden="true">
        <div class="travelWrap">
          <div class="travelHeader">
            <div class="travelTitle">–ü–æ–µ–∑–¥–∫–∞ –≤ –≥–æ—Ä–æ–¥</div>
            <div id="travelTimer" class="travelTimer">00:18</div>
            <div id="travelStatus" class="travelStatus" aria-live="polite"></div>
          </div>
          <div class="travelCard" role="img" aria-label="–ú–∞—Ä—à—Ä—É—Ç –æ—Ç –æ–∑–µ—Ä–∞ –¥–æ –≥–æ—Ä–æ–¥–∞">
            <svg id="travelMap" viewBox="0 0 320 150" aria-hidden="true">
              <path id="travelPathBase" d="M 30 110 Q 160 20 290 110" />
              <path id="travelPathProgress" d="M 30 110 Q 160 20 290 110" />
              <circle id="travelMarker" cx="30" cy="110" r="6" />
            </svg>
            <div class="travelLabels">
              <span>–û–∑–µ—Ä–æ</span>
              <span>–ì–æ—Ä–æ–¥</span>
            </div>
          </div>
        </div>
      </div>

      <div id="cityHud" class="hidden hud">
        <button id="btnBackToLake" class="chipBtn">–ù–∞ —Ä—ã–±–∞–ª–∫—É</button>
      </div>

      <div id="shopOverlay" class="hidden modal">
        <div class="shopCard">
          <div class="shopHeader">
            <div id="shopTitle" class="shopTitle">–ú–∞–≥–∞–∑–∏–Ω</div>
            <button id="btnShopClose" class="chipBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          </div>

          <div id="shopStats" class="shopStats"></div>

          <div id="shopContent" class="shopContent">
            <div id="fishShopSection" class="shopSection hidden">
              <div class="shopSectionHeader">
                <div class="shopSectionTitle">–ü—Ä–æ–¥–∞–∂–∞ —Ä—ã–±—ã</div>
                <button id="btnSellAll" class="invBtn primary">–ü—Ä–æ–¥–∞—Ç—å –≤—Å—ë</button>
              </div>
              <div id="shopInvEmpty" class="invEmpty hidden">–ù–µ—Ç —Ä—ã–±—ã –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏.</div>
              <div id="shopInvList" class="shopList scrollable"></div>
            </div>

            <div id="trophySection" class="shopSection hidden">
              <div class="shopSectionHeader">
                <div class="shopSectionTitle">–¢—Ä–æ—Ñ–µ–π–Ω–∞—è</div>
                <div class="trophyTabs" role="tablist" aria-label="–†–∞–∑–¥–µ–ª—ã —Ç—Ä–æ—Ñ–µ–π–Ω–æ–π">
                  <button class="trophyTabBtn is-active" data-trophy-tab="quests" role="tab" aria-selected="true">–ó–∞–¥–∞–Ω–∏—è</button>
                  <button class="trophyTabBtn" data-trophy-tab="records" role="tab" aria-selected="false">–†–µ–∫–æ—Ä–¥—ã</button>
                </div>
              </div>
              <div class="trophyPanel is-active" data-trophy-panel="quests">
                <div id="trophyQuestSection">
                  <div class="shopSubTitle">–í—ã–±–µ—Ä–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å</div>
                  <div class="questDifficulty">
                    <button class="difficultyBtn" data-difficulty="easy">–õ—ë–≥–∫–æ–µ</button>
                    <button class="difficultyBtn" data-difficulty="medium">–°—Ä–µ–¥–Ω–µ–µ</button>
                    <button class="difficultyBtn" data-difficulty="hard">–°–ª–æ–∂–Ω–æ–µ</button>
                  </div>
                  <div class="questCard">
                    <div class="questCardTitle">–£—Å–ª–æ–≤–∏—è</div>
                    <div class="questRow"><span>–ü–æ—Ä–æ–¥–∞</span><span id="questPreviewSpecies">‚Äî</span></div>
                    <div class="questRow"><span>–í–µ—Å</span><span id="questPreviewWeight">‚Äî</span></div>
                    <div class="questRow"><span>–ù–∞–≥—Ä–∞–¥–∞</span><span id="questPreviewReward">‚Äî</span></div>
                    <div class="questActions">
                      <button id="btnQuestAccept" class="invBtn">–í–∑—è—Ç—å</button>
                    </div>
                  </div>
                  <div class="questRefresh">
                    <button id="btnQuestRefresh" class="invBtn secondary">–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞–Ω–∏—è</button>
                    <div id="questRefreshStatus" class="questRefreshStatus" aria-live="polite"></div>
                  </div>
                </div>

                <div id="trophyActiveSection" class="hidden">
                  <div class="shopSubTitle">–ê–∫—Ç–∏–≤–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ</div>
                  <div class="questCard">
                    <div class="questRow"><span>–ü–æ—Ä–æ–¥–∞</span><span id="activeQuestSpecies">‚Äî</span></div>
                    <div class="questRow"><span>–í–µ—Å</span><span id="activeQuestWeight">‚Äî</span></div>
                    <div class="questRow"><span>–ù–∞–≥—Ä–∞–¥–∞</span><span id="activeQuestReward">‚Äî</span></div>
                    <div class="questStatus" id="activeQuestStatus">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</div>
                    <div class="questActions">
                      <button id="btnQuestClaim" class="invBtn">–ó–∞–±—Ä–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="trophyPanel" data-trophy-panel="records">
                <div class="leaderboardTabs" role="tablist" aria-label="–¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤">
                  <button class="leaderboardTabBtn is-active" data-leaderboard-tab="max_weight" role="tab" aria-selected="true">–í–µ—Å</button>
                  <button class="leaderboardTabBtn" data-leaderboard-tab="best_rarity" role="tab" aria-selected="false">–†–µ–¥–∫–æ—Å—Ç—å</button>
                  <button class="leaderboardTabBtn" data-leaderboard-tab="gold_earned" role="tab" aria-selected="false">–ó–æ–ª–æ—Ç–æ</button>
                  <button class="leaderboardTabBtn" data-leaderboard-tab="level" role="tab" aria-selected="false">–£—Ä–æ–≤–µ–Ω—å</button>
                </div>
                <div class="leaderboardPanel">
                  <div id="leaderboardYourRecord" class="leaderboardYourRecord">–¢–≤–æ–π —Ä–µ–∫–æ—Ä–¥: ‚Äî</div>
                  <div id="leaderboardLocalList" class="leaderboardList scrollable"></div>
                  <div class="leaderboardWorldStub">–ú–∏—Ä–æ–≤—ã–µ: —Å–∫–æ—Ä–æ (–ø–æ—Å–ª–µ —Ä–µ–ª–∏–∑–∞ –≤ –Ø–Ω–¥–µ–∫—Å –ò–≥—Ä—ã).</div>
                </div>
              </div>
            </div>

            <div id="gearShopSection" class="shopSection hidden">
              <div class="shopSectionTitle">–°–Ω–∞—Å—Ç–∏</div>
              <div class="gearTabs" role="tablist" aria-label="–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–Ω–∞—Å—Ç–µ–π">
                <button class="gearTabBtn is-active" data-gear-tab="bait" role="tab" aria-selected="true">–ù–∞–∂–∏–≤–∫–∏</button>
                <button class="gearTabBtn" data-gear-tab="rod" role="tab" aria-selected="false">–£–¥–æ—á–∫–∏</button>
                <button class="gearTabBtn" data-gear-tab="line" role="tab" aria-selected="false">–õ–µ—Å–∫–∏</button>
              </div>
              <div class="gearTabPanels">
                <div class="gearTabPanel is-active" data-gear-panel="bait" role="tabpanel">
                  <div id="baitList" class="shopList scrollable"></div>
                </div>
                <div class="gearTabPanel" data-gear-panel="rod" role="tabpanel">
                  <div id="rodList" class="shopList scrollable"></div>
                </div>
                <div class="gearTabPanel" data-gear-panel="line" role="tabpanel">
                  <div id="lineList" class="shopList scrollable"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="progressOverlay" class="hidden modal">
        <div class="progressCard">
          <div class="progressHeader">
            <div class="progressTitle">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
            <button id="btnProgressClose" class="chipBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          </div>
          <div class="progressStats">
            <div class="progressStat">
              <span class="muted">–£—Ä–æ–≤–µ–Ω—å</span>
              <span id="playerLevel" class="value">1</span>
            </div>
            <div class="progressStat">
              <span class="muted">XP</span>
              <span id="xpText" class="value">0/60</span>
            </div>
          </div>
          <div class="progressBar" aria-hidden="true">
            <div id="xpBarFill" class="progressBarFill"></div>
          </div>
        </div>
      </div>

      <div id="sceneFade" class="sceneFade hidden"></div>
      <div id="toast" class="toast hidden"></div>
      <div id="xpToast" class="xpToast hidden"></div>
      <div id="hintToast" class="hintToast hidden" aria-live="polite"></div>
    </main>

    <footer id="bottombar" class="bottom-bar hud bottombar">
      <button id="btnCity" class="chipBtn" aria-label="–í –≥–æ—Ä–æ–¥">–í –≥–æ—Ä–æ–¥</button>
      <button id="btnInventory" class="chipBtn" aria-label="–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
      <button id="btnJournal" class="chipBtn" aria-label="–ñ—É—Ä–Ω–∞–ª">–ñ—É—Ä–Ω–∞–ª</button>
      <button id="btnProgress" class="chipBtn iconBtn" aria-label="–ü—Ä–æ–≥—Ä–µ—Å—Å">
        <span class="icon" aria-hidden="true">‚≠ê</span>
      </button>
      <button id="btnMute" class="chipBtn iconBtn" aria-label="–ó–≤—É–∫ –≤–∫–ª—é—á–µ–Ω">
        <span class="icon" aria-hidden="true">üîä</span>
      </button>
    </footer>
  </div>

  <div id="rotateOverlay" class="rotateOverlay hidden" role="status" aria-live="polite">
    <div class="rotateCard">
      <div class="rotateIcon" aria-hidden="true"></div>
      <div class="rotateTitle">–ü–æ–≤–µ—Ä–Ω–∏ —Ç–µ–ª–µ—Ñ–æ–Ω –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ</div>
      <div class="rotateHint">–ò–≥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ</div>
    </div>
  </div>

  <!-- cache-bust: main.js v50 (profile, trophy, quests refresh) -->
  <script src="main.js?v=50"></script>
</body>
</html>
